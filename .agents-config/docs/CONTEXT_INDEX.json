{
  "metadata": {
    "id": "soundspan-agent-context-index",
    "version": "2026-02-27.01",
    "description": "Machine-readable index for startup context retrieval and governance drift checks."
  },
  "startupReadOrder": [
    "AGENTS.md",
    ".agents-config/docs/AGENT_RULES.md",
    ".agents-config/docs/CONTEXT_INDEX.json",
    ".agents-config/docs/AGENT_CONTEXT.md",
    ".agents/EXECUTION_QUEUE.json",
    ".agents/MEMORY.md"
  ],
  "primaryContracts": {
    "bootstrapFile": "AGENTS.md",
    "rulesFile": ".agents-config/docs/AGENT_RULES.md",
    "contextFile": ".agents-config/docs/AGENT_CONTEXT.md",
    "canonicalRulesFile": ".agents-config/contracts/rules/canonical-ruleset.json",
    "policyFile": ".agents-config/policies/agent-governance.json",
    "enforcerFile": ".agents-config/scripts/enforce-agent-policies.mjs",
    "preflightFile": ".agents-config/scripts/agent-session-preflight.mjs",
    "managedManifestFile": ".agents-config/agent-managed.json",
    "managedManifestTemplateFile": ".agents-config/tools/bootstrap/managed-files.template.json",
    "projectToolingConfigFile": ".agents-config/config/project-tooling.json"
  },
  "sessionArtifacts": {
    "executionQueueFile": ".agents/EXECUTION_QUEUE.json",
    "sessionBriefJsonFile": ".agents/SESSION_BRIEF.json",
    "archiveRoot": ".agents/archives",
    "archiveIndexFile": ".agents/EXECUTION_ARCHIVE_INDEX.json",
    "archiveShardBy": "feature_id",
    "archiveFormat": "jsonl",
    "archiveReadPolicy": "cold_lookup_only",
    "retiredArtifacts": [
      ".agents/ACTIVE_SCOPE.json",
      ".agents/UNRESOLVED_QUEUE.json"
    ],
    "plansRoot": ".agents/plans",
    "planRoots": [
      ".agents/plans/current",
      ".agents/plans/deferred",
      ".agents/plans/archived"
    ],
    "policyContractPath": "contracts.sessionArtifacts",
    "memoryFile": ".agents/MEMORY.md",
    "memoryTopicsRoot": ".agents/memory",
    "sessionLogFile": ".agents/SESSION_LOG.md"
  },
  "ruleCatalog": {
    "file": ".agents-config/docs/AGENT_RULES.md",
    "section": "## Rule ID Catalog (Machine Cross-Reference)"
  },
  "canonicalRules": {
    "file": ".agents-config/contracts/rules/canonical-ruleset.json",
    "overrideSchemaFile": ".agents-config/rule-overrides.schema.json",
    "optionalOverrideFile": ".agents-config/rule-overrides.json",
    "verifyCommandKey": "canonicalRulesVerify",
    "syncCommandKey": "canonicalRulesSync"
  },
  "rulesSections": [
    {
      "id": "rules_global_agreements",
      "file": ".agents-config/docs/AGENT_RULES.md",
      "heading": "## Global Operating Agreements (All LLMs)"
    },
    {
      "id": "rules_orchestrator_contract",
      "file": ".agents-config/docs/AGENT_RULES.md",
      "heading": "### Orchestrator/Subagent Instruction Contract (Required)"
    },
    {
      "id": "rules_memory_session_log",
      "file": ".agents-config/docs/AGENT_RULES.md",
      "heading": "### MEMORY.md and SESSION_LOG.md Contracts (Required)"
    },
    {
      "id": "rules_post_compaction",
      "file": ".agents-config/docs/AGENT_RULES.md",
      "heading": "### Post-Compaction Startup Checklist (Required)"
    },
    {
      "id": "rules_definition_of_done",
      "file": ".agents-config/docs/AGENT_RULES.md",
      "heading": "### Definition of Done"
    }
  ],
  "contextSections": [
    {
      "id": "context_project_overview",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Project Overview"
    },
    {
      "id": "context_architecture",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Architecture"
    },
    {
      "id": "context_tech_stack",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Tech Stack"
    },
    {
      "id": "context_project_structure",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Project Structure"
    },
    {
      "id": "context_key_conventions",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Key Conventions"
    },
    {
      "id": "context_reuse_atlas",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Reuse and Consolidation Atlas"
    },
    {
      "id": "context_fork_docs",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Fork Documentation Maintenance"
    },
    {
      "id": "context_delivery_gates",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Delivery Gates"
    },
    {
      "id": "context_database",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Database"
    },
    {
      "id": "context_testing",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Testing"
    },
    {
      "id": "context_local_testing_bootstrap",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Local Testing Bootstrap"
    },
    {
      "id": "context_common_tasks",
      "file": ".agents-config/docs/AGENT_CONTEXT.md",
      "heading": "## Common Tasks"
    }
  ],
  "commands": {
    "policyCheck": "node .agents-config/scripts/enforce-agent-policies.mjs",
    "sessionPreflight": "npm run agent:preflight",
    "agentPayloadStub": "npm run agent:payload:stub -- --help",
    "queueLifecycle": "npm run agent:queue:open -- --help",
    "featureIndexVerify": "npm run feature-index:verify",
    "routeMapGenerate": "npm run route-map:generate",
    "routeMapVerify": "npm run route-map:verify",
    "domainReadmesGenerate": "npm run domain-readmes:generate",
    "domainReadmesVerify": "npm run domain-readmes:verify",
    "jsdocCoverageGenerate": "npm run jsdoc-coverage:generate",
    "jsdocCoverageVerify": "npm run jsdoc-coverage:verify",
    "openapiCoverageGenerate": "npm run openapi-coverage:generate",
    "openapiCoverageVerify": "npm run openapi-coverage:verify",
    "loggingComplianceGenerate": "npm run logging:compliance:generate",
    "loggingComplianceVerify": "npm run logging:compliance:verify",
    "releasePrepare": "npm run release:prepare -- --version <X.Y.Z>",
    "releaseVerify": "npm run release:verify -- --version <X.Y.Z>",
    "releaseNotes": "npm run release:notes -- --version <X.Y.Z> --from <tag> [--to <ref>] [--output <path>] [--summary <text>] [--known-issue <text>] [--compat-note <text>]",
    "changelogFile": "cat CHANGELOG.md",
    "featureIndexFile": "cat .agents-config/docs/FEATURE_INDEX.json",
    "testMatrixFile": "cat .agents-config/docs/TEST_MATRIX.md",
    "routeMapFile": "cat .agents-config/docs/ROUTE_MAP.md",
    "jsdocCoverageFile": "cat .agents-config/docs/JSDOC_COVERAGE.md",
    "openapiCoverageFile": "cat .agents-config/docs/OPENAPI_COVERAGE.md",
    "loggingStandardsFile": "cat .agents-config/docs/LOGGING_STANDARDS.md",
    "routesReadmeFile": "cat backend/src/routes/README.md",
    "servicesReadmeFile": "cat backend/src/services/README.md",
    "frontendFeaturesReadmeFile": "cat frontend/features/README.md",
    "canonicalRulesVerify": "npm run rules:canonical:verify",
    "canonicalRulesSync": "npm run rules:canonical:sync",
    "agentManaged": "npm run agent:managed -- --mode check",
    "templateImpactCheck": "npm run agent:template-impact:check -- --base-ref origin/<base-branch>",
    "agentManagedFix": "npm run agent:managed -- --fix --recheck",
    "policyCheckCi": "node .agents-config/scripts/enforce-agent-policies.mjs --ci",
    "releaseContractCheck": "node .agents-config/scripts/release-contract-check.mjs",
    "agentSync": "npm run agent:sync",
    "projectToolingFile": "cat .agents-config/config/project-tooling.json"
  },
  "profiles": {
    "availableProfiles": [
      "base",
      "typescript",
      "typescript-openapi",
      "javascript",
      "python"
    ],
    "activeProfiles": [
      "base",
      "typescript",
      "typescript-openapi",
      "python"
    ]
  }
}
